<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Note-Taker</title>
  <meta name="description" content="Save and Revise">
  <meta name="author" content="Nitesh Tiwari">

  <link rel="stylesheet" href="main.css">

  <script src="https://cdn.plyr.io/3.6.8/plyr.js"></script>
  <script type = "text/javascript" src="scripts/YTSearchSubmit.js"></script>  
  <!-- <script type = "text/javascript" src="scripts/addScreenShot.js"></script>  -->
  <script type= "text/javascript"  src="scripts/html2canvas.js"></script>
  <script>
    function doCapture(){
      html2canvas(document.getElementById("videoIFrame")).then(function(canvas){
        console.log(canvas.toDataURL("image/jpeg",0.9))
      })
    }
  </script> 
  <script type="text/javascript" src="scripts/plyr.js"></script>
  <script>
    function doCapturePlyr(){
      const player = new Plyr('#player');

      const width = 100;
      const height = 100;

      // console.log("media-W", width," H- ", height);

      const canvas = Object.assign(document.createElement('canvas'), {width, height});
      canvas.getContext('2d').drawImage(player.media.iframe, 0, 0, width, height);
      // Set as poster (will show if you run `player.stop()` for example)
      console.log(canvas.toDataURL("image/jpeg",0.9))
      // player.elements.poster.style.backgroundImage = `url(${canvas.toDataURL()})`;

    }
    
  </script>

</head>

<body>
    <div class="topnav">
        <a class="active" href="#home">Home</a>
        <a href="#about">About</a>
        <div class="search-container">
              <input type="text" placeholder="Add YT-link to play.." id="YTSearch">
              <div class="search-container-submit">
                <input type="submit" id="YTSearchSubmit" onclick="YTSearchSubmit()" value= "Submit">
              </div>
          </div>
      </div>

    <div class="plyr_snapshot_player" id="snapshot">
      <div class="plyr__video-embed" id="player">
          <iframe width="100%" height="100%" id="videoIFrame"
            src="https://www.youtube.com/embed/bTqVqk7FSmY?origin=https://plyr.io&amp;iv_load_policy=3&amp;modestbranding=1&amp;playsinline=1&amp;showinfo=0&amp;rel=0&amp;enablejsapi=1"
            allowtransparency
            allowfullscreen
            allow="autoplay"
          ></iframe>
      </div>
      <button type="submit" value="Submit" onclick="doCapturePlyr()">Snapshot-Now</button>
    </div>

    <div class="notes_taker_text">
        <textarea id="notesText" name="notesText" rows="30" cols="90">
            Start Writing Your Notes Here...
        </textarea>
            
        <button type="submit" value="Submit">Push To GitHub</button>
    </div>
</body>
</html>